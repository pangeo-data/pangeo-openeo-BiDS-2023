

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Peak-Valley detection in Sentinel-2 NDVI &#8212; BiDS&#39;23 - Scaling Big Data Analysis with Pangeo and OpenEO - Unlocking the Power of Space Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=365ca57ee442770a23c6" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=365ca57ee442770a23c6" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=365ca57ee442770a23c6"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'part3/peak_valley';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="UDF with machine learning" href="advanced_udf.html" />
    <link rel="prev" title="OpenEO - User Defined Functions" href="udf_intro_openeo.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pangeo_openeo.png" class="logo__image only-light" alt="BiDS'23 - Scaling Big Data Analysis with Pangeo and OpenEO - Unlocking the Power of Space Data - Home"/>
    <script>document.write(`<img src="../_static/pangeo_openeo.png" class="logo__image only-dark" alt="BiDS'23 - Scaling Big Data Analysis with Pangeo and OpenEO - Unlocking the Power of Space Data - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome üëã
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../about/timeline.html">Workshop timeline</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Before the workshop</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../before/setup.html">Setup</a></li>

<li class="toctree-l1"><a class="reference internal" href="../before/openeo.html">OpenEO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../before/EOSC.html">Pangeo@EOSC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../before/copernicus.html">Copernicus Data Space Ecosystem</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Part 1 - Pangeo</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part1/motivation.html">Introduction and Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part1/overview.html">Overview of the Pangeo ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part1/xarray_pitfalls.html">Common pitfalls with xarray</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part1/visualization.html">Interactive Visualization with Hvplot</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Part 2 - OpenEO</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../part2/openEO-getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part2/openEO-boa_sentinel_2.html">Sentinel-2 Bottom Of Atmosphere (BOA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part2/openEO-Corine_Land_Cover_Alps.html">Corine Land Cover Alps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part2/openEO-Client_Side_Land_Cover_Alps.html">Client Side Land Cover Alps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part2/advanced_workflows.html">Advanced workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part2/stac_metadata.html">STAC metadata generation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Part 3</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Unlocking the Power of Space Data with Pangeo &amp; OpenEO</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_discovery.html">Data discoverability and searchability</a></li>
<li class="toctree-l1"><a class="reference internal" href="chunking_introduction.html">Introduction to chunking with netCDF, ZARR and Kerchunk</a></li>
<li class="toctree-l1"><a class="reference internal" href="scaling_dask.html">Parallelization with Dask</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_exploitability_openEO.html">How to exploit data with openEO</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_exploitability_pangeo.html">How to exploit data on Pangeo</a></li>
<li class="toctree-l1"><a class="reference internal" href="udf_intro_openeo.html">openEO UDF - Introduction</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Advanced openEO UDF + ufunc (XArray) - Peak Valley Case</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_udf.html">UDF with machine learning</a></li>

<li class="toctree-l1"><a class="reference internal" href="scaling_openeo.html">Scaling with OpenEO</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Beyond the workshop</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../afterword/resources.html">Join the community!</a></li>


<li class="toctree-l1"><a class="reference internal" href="../afterword/pythia.html">Project Pythia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../afterword/envds-book.html">Environmental Data Science Book</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://notebooks.gesis.org/binder/v2/gh/pangeo-data/pangeo-openeo-BiDS-2023/main?urlpath=lab/tree/tutorial/part3/peak_valley.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="http://pangeo-eosc.vm.fedcloud.eu/jupyterhub/hub/user-redirect/git-pull?repo=https%3A//github.com/pangeo-data/pangeo-openeo-BiDS-2023&urlpath=lab/tree/pangeo-openeo-BiDS-2023/tutorial/part3/peak_valley.ipynb&branch=main" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onJupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pangeo-data/pangeo-openeo-BiDS-2023" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pangeo-data/pangeo-openeo-BiDS-2023/issues/new?title=Issue%20on%20page%20%2Fpart3/peak_valley.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/part3/peak_valley.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Peak-Valley detection in Sentinel-2 NDVI</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-the-s2-time-series">Downloading the S2 time series</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-image-chips-across-time">Plot Image Chips Across Time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-time-series-for-specific-polygon-area">Plot Time Series for Specific Polygon Area</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="peak-valley-detection-in-sentinel-2-ndvi">
<h1>Peak-Valley detection in Sentinel-2 NDVI<a class="headerlink" href="#peak-valley-detection-in-sentinel-2-ndvi" title="Permalink to this heading">#</a></h1>
<p>Welcome to this Jupyter Notebook where we will be working with time series data! Our goal is to download a time series data for a meadow and use the <a class="reference external" href="https://open-eo.github.io/FuseTS/api.html#fusets.peakvalley.peakvalley">peak-valley</a> detection algorithm originally from FuseTS to extract insights from the data. Time series analysis is a powerful tool that allows us to understand patterns and trends in data over time, and we will be leveraging this tool to analyze the data for the meadow. With the help of the FuseTS peak-valley detection algorithm, we will be able to identify the highest and lowest points in the data, allowing us to gain a better understanding of the underlying patterns and trends.</p>
<p>This notebook copies the FuseTS original to avoid dependency issues in the workshop!</p>
<p>Algorithm type: single pixel timeseries analysis</p>
<p>The actual peak-valley algorithm can be found here:</p>
<p><a class="github reference external" href="https://github.com/pangeo-data/pangeo-openeo-BiDS-2023/blob/main/tutorial/part3/peakvalley.py#L88">pangeo-data/pangeo-openeo-BiDS-2023</a></p>
<p>This is the ‚ÄòUDF‚Äô entrypoint:
<a class="github reference external" href="https://github.com/pangeo-data/pangeo-openeo-BiDS-2023/blob/main/tutorial/part3/peakvalley.py#L73">pangeo-data/pangeo-openeo-BiDS-2023</a></p>
<p><strong>Prerequisites</strong></p>
<ul class="simple">
<li><p>In this notebook we are using openEO to fetch the time series data for the meadow. You can register for a free trial account on the <a class="reference external" href="https://openeo.cloud/#plans">openEO Platform</a> website.</p></li>
</ul>
<p>Lets start with importing the different libraries that we need within this notebook.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#the autoreload extension makes it easier to work with code in a separate python file (peakvalley.py)</span>
<span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2

<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">openeo</span>
<span class="kn">import</span> <span class="nn">rasterio</span>
<span class="kn">import</span> <span class="nn">xarray</span>
<span class="kn">from</span> <span class="nn">rasterio.features</span> <span class="kn">import</span> <span class="n">geometry_mask</span>


<span class="kn">import</span> <span class="nn">importlib</span>
<span class="kn">import</span> <span class="nn">peakvalley</span>
<span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">peakvalley</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="downloading-the-s2-time-series">
<h2>Downloading the S2 time series<a class="headerlink" href="#downloading-the-s2-time-series" title="Permalink to this heading">#</a></h2>
<p>In order to execute the peak valley algorithm, we need to have time series data. Retrieving time series data can be done through various methods, and one such method is using openEO. <a class="reference external" href="https://openeo.org/">OpenEO</a> is an API that provides access to a variety of Earth Observation (EO) data and processing services in a standardized and easy-to-use way. By leveraging the power of openEO, we can easily retrieve the time series data for the meadow and use it to analyze the patterns and trends.</p>
<p>More information on the usage of openEO‚Äôs Python client can be found on <a class="reference external" href="https://github.com/Open-EO/openeo-python-client">GitHub</a>.</p>
<p>The first step is to connect to an openEO compatible backend.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">openeo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;openeo.cloud&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">authenticate_oidc</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">Visit <a href="https://aai.egi.eu/device?user_code=FXBK-MMTE" title="Authenticate at https://aai.egi.eu/device?user_code=FXBK-MMTE" target="_blank" rel="noopener noreferrer">https://aai.egi.eu/device?user_code=FXBK-MMTE</a> <a href="#" onclick="navigator.clipboard.writeText('https://aai.egi.eu/device?user_code=FXBK-MMTE');return false;" title="Copy authentication URL to clipboard">&#128203;</a> to authenticate.</div><div class="output text_html"><code>[-------------------------------------]</code> ‚ùå Timed out</div><div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">OidcDeviceCodePollTimeout</span><span class="g g-Whitespace">                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">openeo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;openeo.cloud&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">authenticate_oidc</span><span class="p">()</span>

<span class="nn">File ~/micromamba/envs/bids23/lib/python3.11/site-packages/openeo/rest/connection.py:729,</span> in <span class="ni">Connection.authenticate_oidc</span><span class="nt">(self, provider_id, client_id, client_secret, store_refresh_token, use_pkce, display, max_poll_time)</span>
<span class="g g-Whitespace">    </span><span class="mi">725</span> <span class="n">_log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Trying device code flow.&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">726</span> <span class="n">authenticator</span> <span class="o">=</span> <span class="n">OidcDeviceAuthenticator</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">727</span>     <span class="n">client_info</span><span class="o">=</span><span class="n">client_info</span><span class="p">,</span> <span class="n">use_pkce</span><span class="o">=</span><span class="n">use_pkce</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="n">display</span><span class="p">,</span> <span class="n">max_poll_time</span><span class="o">=</span><span class="n">max_poll_time</span>
<span class="g g-Whitespace">    </span><span class="mi">728</span> <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">729</span> <span class="n">con</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_authenticate_oidc</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">730</span>     <span class="n">authenticator</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">731</span>     <span class="n">provider_id</span><span class="o">=</span><span class="n">provider_id</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">732</span>     <span class="n">store_refresh_token</span><span class="o">=</span><span class="n">store_refresh_token</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">733</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">734</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Authenticated using device code flow.&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">735</span> <span class="k">return</span> <span class="n">con</span>

<span class="nn">File ~/micromamba/envs/bids23/lib/python3.11/site-packages/openeo/rest/connection.py:459,</span> in <span class="ni">Connection._authenticate_oidc</span><span class="nt">(self, authenticator, provider_id, store_refresh_token, fallback_refresh_token_to_store, oidc_auth_renewer)</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span> <span class="k">def</span> <span class="nf">_authenticate_oidc</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">448</span>     <span class="bp">self</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">449</span>     <span class="n">authenticator</span><span class="p">:</span> <span class="n">OidcAuthenticator</span><span class="p">,</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">454</span>     <span class="n">oidc_auth_renewer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">OidcAuthenticator</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">455</span> <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Connection</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">456</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">457</span><span class="sd">     Authenticate through OIDC and set up bearer token (based on OIDC access_token) for further requests.</span>
<span class="g g-Whitespace">    </span><span class="mi">458</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">459</span>     <span class="n">tokens</span> <span class="o">=</span> <span class="n">authenticator</span><span class="o">.</span><span class="n">get_tokens</span><span class="p">(</span><span class="n">request_refresh_token</span><span class="o">=</span><span class="n">store_refresh_token</span><span class="p">)</span>
<span class="nn">    460     _log.info(&quot;Obtained tokens: {t}&quot;.format(t=[k for k, v</span> in <span class="ni">tokens._asdict().items</span><span class="nt">() if v]))</span>
<span class="g g-Whitespace">    </span><span class="mi">461</span>     <span class="k">if</span> <span class="n">store_refresh_token</span><span class="p">:</span>

<span class="nn">File ~/micromamba/envs/bids23/lib/python3.11/site-packages/openeo/rest/auth/oidc.py:911,</span> in <span class="ni">OidcDeviceAuthenticator.get_tokens</span><span class="nt">(self, request_refresh_token)</span>
<span class="g g-Whitespace">    </span><span class="mi">908</span>         <span class="n">next_poll</span> <span class="o">=</span> <span class="n">elapsed</span><span class="p">()</span> <span class="o">+</span> <span class="n">poll_interval</span>
<span class="g g-Whitespace">    </span><span class="mi">910</span> <span class="n">poll_ui</span><span class="o">.</span><span class="n">show_progress</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot;Timed out&quot;</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">911</span> <span class="k">raise</span> <span class="n">OidcDeviceCodePollTimeout</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Timeout (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_poll_time</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">s) while polling for access token.&quot;</span><span class="p">)</span>

<span class="ne">OidcDeviceCodePollTimeout</span>: Timeout (300.0s) while polling for access token.
</pre></div>
</div>
</div>
</div>
<p>Next we define the area of interest, in this case an extent, for which we would like to fetch time series data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># set download extent</span>
<span class="n">minx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">maxy</span> <span class="o">=</span> <span class="p">(</span>
    <span class="mf">15.179421073198585</span><span class="p">,</span>
    <span class="mf">45.80924633589998</span><span class="p">,</span>
    <span class="mf">15.185336903822831</span><span class="p">,</span>
    <span class="mf">45.81302555710934</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">spat_ext</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">west</span><span class="o">=</span><span class="n">minx</span><span class="p">,</span> <span class="n">east</span><span class="o">=</span><span class="n">maxx</span><span class="p">,</span> <span class="n">north</span><span class="o">=</span><span class="n">maxy</span><span class="p">,</span> <span class="n">south</span><span class="o">=</span><span class="n">miny</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="mi">4326</span><span class="p">)</span>
<span class="n">temp_ext</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2022-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2022-12-31&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>We will create an openEO process to calculate the NDVI time series for our area of interest. We‚Äôll begin by using the SENTINEL2_L2A_SENTINELHUB collection, and apply a cloud masking algorithm to remove any interfering clouds before calculating the NDVI values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define openEO pipeline</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">load_collection</span><span class="p">(</span>
    <span class="s2">&quot;SENTINEL2_L2A&quot;</span><span class="p">,</span>
    <span class="n">spatial_extent</span><span class="o">=</span><span class="n">spat_ext</span><span class="p">,</span>
    <span class="n">temporal_extent</span><span class="o">=</span><span class="n">temp_ext</span><span class="p">,</span>
    <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;B04&quot;</span><span class="p">,</span> <span class="s2">&quot;B08&quot;</span><span class="p">,</span> <span class="s2">&quot;SCL&quot;</span><span class="p">],</span>
    <span class="n">max_cloud_cover</span><span class="o">=</span><span class="mi">80</span>
<span class="p">)</span>
<span class="n">s2</span> <span class="o">=</span> <span class="n">s2</span><span class="o">.</span><span class="n">process</span><span class="p">(</span><span class="s2">&quot;mask_scl_dilation&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">s2</span><span class="p">,</span> <span class="n">scl_band_name</span><span class="o">=</span><span class="s2">&quot;SCL&quot;</span><span class="p">)</span>
<span class="n">ndvi_cube</span> <span class="o">=</span> <span class="n">s2</span><span class="o">.</span><span class="n">ndvi</span><span class="p">(</span><span class="n">red</span><span class="o">=</span><span class="s2">&quot;B04&quot;</span><span class="p">,</span> <span class="n">nir</span><span class="o">=</span><span class="s2">&quot;B08&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/home/driesj/python/openeo-python-client/openeo/rest/connection.py:1171: UserWarning: SENTINEL2_L2A property filtering with properties that are undefined in the collection metadata (summaries): eo:cloud_cover.
  return DataCube.load_collection(
</pre></div>
</div>
</div>
</div>
<p>Now that we have calculated the NDVI time series for our area of interest, we can request openEO to download the result to our local storage. This will allow us to access the file and use it for further analysis in this notebook. However, if we have already downloaded the file, we can use the existing time series to continue our analysis without the need for a new download.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;../data/s2_meadow.nc&quot;</span><span class="p">):</span>
    <span class="c1">#job = ndvi_cube.execute_batch(&quot;../data/s2_meadow.nc&quot;, title=f&quot;FuseTS - Peak Valley - Time Series&quot;)</span>
    <span class="n">ndvi_cube</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;../data/s2_meadow.nc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 514 ¬µs, sys: 100 ¬µs, total: 614 ¬µs
Wall time: 906 ¬µs
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;../data/s2_meadow.nc&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '‚ñ∫';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '‚ñº';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt;
Dimensions:  (t: 64, x: 48, y: 44)
Coordinates:
  * t        (t) datetime64[ns] 2022-01-02 2022-01-25 ... 2022-12-23 2022-12-28
  * x        (x) float64 5.139e+05 5.139e+05 5.14e+05 ... 5.144e+05 5.144e+05
  * y        (y) float64 5.073e+06 5.073e+06 5.073e+06 ... 5.073e+06 5.073e+06
Data variables:
    crs      |S1 b&#x27;&#x27;
    var      (t, y, x) float32 nan nan nan nan nan nan ... nan nan nan nan nan
Attributes:
    Conventions:  CF-1.9
    institution:  openEO platform</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-7898c553-dc2b-4a72-ae7f-0beb877ff24c' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-7898c553-dc2b-4a72-ae7f-0beb877ff24c' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>t</span>: 64</li><li><span class='xr-has-index'>x</span>: 48</li><li><span class='xr-has-index'>y</span>: 44</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-dfd7eb26-bb56-4bb3-99a7-9c1b0410e981' class='xr-section-summary-in' type='checkbox'  checked><label for='section-dfd7eb26-bb56-4bb3-99a7-9c1b0410e981' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>t</span></div><div class='xr-var-dims'>(t)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-01-02 ... 2022-12-28</div><input id='attrs-62501709-1f7f-4e9a-9fa2-1f366a2ead1c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-62501709-1f7f-4e9a-9fa2-1f366a2ead1c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7a62113e-0018-4bf7-a74d-6166fff9742d' class='xr-var-data-in' type='checkbox'><label for='data-7a62113e-0018-4bf7-a74d-6166fff9742d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>t</dd><dt><span>long_name :</span></dt><dd>t</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-01-02T00:00:00.000000000&#x27;, &#x27;2022-01-25T00:00:00.000000000&#x27;,
       &#x27;2022-01-30T00:00:00.000000000&#x27;, &#x27;2022-02-04T00:00:00.000000000&#x27;,
       &#x27;2022-02-09T00:00:00.000000000&#x27;, &#x27;2022-02-24T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-03-03T00:00:00.000000000&#x27;,
       &#x27;2022-03-11T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-03-21T00:00:00.000000000&#x27;, &#x27;2022-03-23T00:00:00.000000000&#x27;,
       &#x27;2022-03-26T00:00:00.000000000&#x27;, &#x27;2022-03-28T00:00:00.000000000&#x27;,
       &#x27;2022-04-05T00:00:00.000000000&#x27;, &#x27;2022-04-07T00:00:00.000000000&#x27;,
       &#x27;2022-04-10T00:00:00.000000000&#x27;, &#x27;2022-04-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-25T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2022-05-10T00:00:00.000000000&#x27;, &#x27;2022-05-12T00:00:00.000000000&#x27;,
       &#x27;2022-05-15T00:00:00.000000000&#x27;, &#x27;2022-05-20T00:00:00.000000000&#x27;,
       &#x27;2022-05-22T00:00:00.000000000&#x27;, &#x27;2022-05-25T00:00:00.000000000&#x27;,
       &#x27;2022-05-27T00:00:00.000000000&#x27;, &#x27;2022-06-01T00:00:00.000000000&#x27;,
       &#x27;2022-06-04T00:00:00.000000000&#x27;, &#x27;2022-06-06T00:00:00.000000000&#x27;,
       &#x27;2022-06-11T00:00:00.000000000&#x27;, &#x27;2022-06-14T00:00:00.000000000&#x27;,
       &#x27;2022-06-19T00:00:00.000000000&#x27;, &#x27;2022-06-21T00:00:00.000000000&#x27;,
       &#x27;2022-06-26T00:00:00.000000000&#x27;, &#x27;2022-06-29T00:00:00.000000000&#x27;,
       &#x27;2022-07-01T00:00:00.000000000&#x27;, &#x27;2022-07-04T00:00:00.000000000&#x27;,
       &#x27;2022-07-06T00:00:00.000000000&#x27;, &#x27;2022-07-09T00:00:00.000000000&#x27;,
       &#x27;2022-07-11T00:00:00.000000000&#x27;, &#x27;2022-07-14T00:00:00.000000000&#x27;,
       &#x27;2022-07-16T00:00:00.000000000&#x27;, &#x27;2022-07-19T00:00:00.000000000&#x27;,
       &#x27;2022-07-21T00:00:00.000000000&#x27;, &#x27;2022-07-24T00:00:00.000000000&#x27;,
       &#x27;2022-07-29T00:00:00.000000000&#x27;, &#x27;2022-07-31T00:00:00.000000000&#x27;,
       &#x27;2022-08-03T00:00:00.000000000&#x27;, &#x27;2022-08-05T00:00:00.000000000&#x27;,
       &#x27;2022-08-10T00:00:00.000000000&#x27;, &#x27;2022-08-30T00:00:00.000000000&#x27;,
       &#x27;2022-09-02T00:00:00.000000000&#x27;, &#x27;2022-09-07T00:00:00.000000000&#x27;,
       &#x27;2022-09-12T00:00:00.000000000&#x27;, &#x27;2022-09-19T00:00:00.000000000&#x27;,
       &#x27;2022-09-22T00:00:00.000000000&#x27;, &#x27;2022-10-04T00:00:00.000000000&#x27;,
       &#x27;2022-10-17T00:00:00.000000000&#x27;, &#x27;2022-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-11-01T00:00:00.000000000&#x27;, &#x27;2022-11-08T00:00:00.000000000&#x27;,
       &#x27;2022-12-23T00:00:00.000000000&#x27;, &#x27;2022-12-28T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>x</span></div><div class='xr-var-dims'>(x)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.139e+05 5.139e+05 ... 5.144e+05</div><input id='attrs-f6fff511-a921-4091-97c6-91c7a07a6908' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f6fff511-a921-4091-97c6-91c7a07a6908' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-330f3eb5-4e31-4036-9d19-605b8939dd8e' class='xr-var-data-in' type='checkbox'><label for='data-330f3eb5-4e31-4036-9d19-605b8939dd8e' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([513935., 513945., 513955., 513965., 513975., 513985., 513995., 514005.,
       514015., 514025., 514035., 514045., 514055., 514065., 514075., 514085.,
       514095., 514105., 514115., 514125., 514135., 514145., 514155., 514165.,
       514175., 514185., 514195., 514205., 514215., 514225., 514235., 514245.,
       514255., 514265., 514275., 514285., 514295., 514305., 514315., 514325.,
       514335., 514345., 514355., 514365., 514375., 514385., 514395., 514405.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>y</span></div><div class='xr-var-dims'>(y)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.073e+06 5.073e+06 ... 5.073e+06</div><input id='attrs-23de5458-c087-4594-bb18-a067b770dc55' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-23de5458-c087-4594-bb18-a067b770dc55' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-3a5a895d-2c22-411e-a120-9d2cc62d6498' class='xr-var-data-in' type='checkbox'><label for='data-3a5a895d-2c22-411e-a120-9d2cc62d6498' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([5073295., 5073285., 5073275., 5073265., 5073255., 5073245., 5073235.,
       5073225., 5073215., 5073205., 5073195., 5073185., 5073175., 5073165.,
       5073155., 5073145., 5073135., 5073125., 5073115., 5073105., 5073095.,
       5073085., 5073075., 5073065., 5073055., 5073045., 5073035., 5073025.,
       5073015., 5073005., 5072995., 5072985., 5072975., 5072965., 5072955.,
       5072945., 5072935., 5072925., 5072915., 5072905., 5072895., 5072885.,
       5072875., 5072865.])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a9c69a61-9d81-4886-955a-74090cb4e15b' class='xr-section-summary-in' type='checkbox'  checked><label for='section-a9c69a61-9d81-4886-955a-74090cb4e15b' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>crs</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>|S1</div><div class='xr-var-preview xr-preview'>b&#x27;&#x27;</div><input id='attrs-e6fd46c4-f243-4c51-ae46-80f9e8da2556' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e6fd46c4-f243-4c51-ae46-80f9e8da2556' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ec9a448a-64bf-488e-b756-86bdac9a4019' class='xr-var-data-in' type='checkbox'><label for='data-ec9a448a-64bf-488e-b756-86bdac9a4019' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>crs_wkt :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 33N&quot;, GEOGCS[&quot;WGS 84&quot;, DATUM[&quot;World Geodetic System 1984&quot;, SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563, AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]], AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]], PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], UNIT[&quot;degree&quot;, 0.017453292519943295], AXIS[&quot;Geodetic longitude&quot;, EAST], AXIS[&quot;Geodetic latitude&quot;, NORTH], AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], PROJECTION[&quot;Transverse_Mercator&quot;, AUTHORITY[&quot;EPSG&quot;,&quot;9807&quot;]], PARAMETER[&quot;central_meridian&quot;, 15.0], PARAMETER[&quot;latitude_of_origin&quot;, 0.0], PARAMETER[&quot;scale_factor&quot;, 0.9996], PARAMETER[&quot;false_easting&quot;, 500000.0], PARAMETER[&quot;false_northing&quot;, 0.0], UNIT[&quot;m&quot;, 1.0], AXIS[&quot;Easting&quot;, EAST], AXIS[&quot;Northing&quot;, NORTH], AUTHORITY[&quot;EPSG&quot;,&quot;32633&quot;]]</dd><dt><span>spatial_ref :</span></dt><dd>PROJCS[&quot;WGS 84 / UTM zone 33N&quot;, GEOGCS[&quot;WGS 84&quot;, DATUM[&quot;World Geodetic System 1984&quot;, SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563, AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]], AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]], PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], UNIT[&quot;degree&quot;, 0.017453292519943295], AXIS[&quot;Geodetic longitude&quot;, EAST], AXIS[&quot;Geodetic latitude&quot;, NORTH], AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]], PROJECTION[&quot;Transverse_Mercator&quot;, AUTHORITY[&quot;EPSG&quot;,&quot;9807&quot;]], PARAMETER[&quot;central_meridian&quot;, 15.0], PARAMETER[&quot;latitude_of_origin&quot;, 0.0], PARAMETER[&quot;scale_factor&quot;, 0.9996], PARAMETER[&quot;false_easting&quot;, 500000.0], PARAMETER[&quot;false_northing&quot;, 0.0], UNIT[&quot;m&quot;, 1.0], AXIS[&quot;Easting&quot;, EAST], AXIS[&quot;Northing&quot;, NORTH], AUTHORITY[&quot;EPSG&quot;,&quot;32633&quot;]]</dd></dl></div><div class='xr-var-data'><pre>array(b&#x27;&#x27;, dtype=&#x27;|S1&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>var</span></div><div class='xr-var-dims'>(t, y, x)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>nan nan nan nan ... nan nan nan nan</div><input id='attrs-6c704a60-4b94-4528-8728-d94cb350dfe4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6c704a60-4b94-4528-8728-d94cb350dfe4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1c883578-b0d9-44b9-a318-6d7174692923' class='xr-var-data-in' type='checkbox'><label for='data-1c883578-b0d9-44b9-a318-6d7174692923' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>var</dd><dt><span>units :</span></dt><dd></dd><dt><span>grid_mapping :</span></dt><dd>crs</dd></dl></div><div class='xr-var-data'><pre>array([[[       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        ...,
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan]],

       [[0.59072226, 0.55243903, 0.44711226, ..., 0.625731  ,
         0.69669837, 0.72212064],
        [0.44699454, 0.40816328, 0.21875   , ..., 0.56939745,
         0.634226  , 0.65260196],
        [0.3478956 , 0.42222223, 0.2715552 , ..., 0.5526882 ,
         0.6230441 , 0.7261518 ],
...
        [0.78105265, 0.8294235 , 0.7923891 , ..., 0.86959904,
         0.8907825 , 0.89064074],
        [0.8108314 , 0.82515335, 0.82329875, ..., 0.8628868 ,
         0.8951965 , 0.8984485 ],
        [0.8091059 , 0.80285764, 0.83046633, ..., 0.86940235,
         0.8907709 , 0.8935469 ]],

       [[       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        ...,
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan],
        [       nan,        nan,        nan, ...,        nan,
                nan,        nan]]], dtype=float32)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b51c0235-13b4-495f-b8f7-0f624bbe7a2a' class='xr-section-summary-in' type='checkbox'  ><label for='section-b51c0235-13b4-495f-b8f7-0f624bbe7a2a' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>t</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-e525b2c7-1fd2-42cd-8cab-d9217bf3a5d0' class='xr-index-data-in' type='checkbox'/><label for='index-e525b2c7-1fd2-42cd-8cab-d9217bf3a5d0' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-01-02&#x27;, &#x27;2022-01-25&#x27;, &#x27;2022-01-30&#x27;, &#x27;2022-02-04&#x27;,
               &#x27;2022-02-09&#x27;, &#x27;2022-02-24&#x27;, &#x27;2022-03-01&#x27;, &#x27;2022-03-03&#x27;,
               &#x27;2022-03-11&#x27;, &#x27;2022-03-13&#x27;, &#x27;2022-03-21&#x27;, &#x27;2022-03-23&#x27;,
               &#x27;2022-03-26&#x27;, &#x27;2022-03-28&#x27;, &#x27;2022-04-05&#x27;, &#x27;2022-04-07&#x27;,
               &#x27;2022-04-10&#x27;, &#x27;2022-04-12&#x27;, &#x27;2022-04-25&#x27;, &#x27;2022-04-30&#x27;,
               &#x27;2022-05-10&#x27;, &#x27;2022-05-12&#x27;, &#x27;2022-05-15&#x27;, &#x27;2022-05-20&#x27;,
               &#x27;2022-05-22&#x27;, &#x27;2022-05-25&#x27;, &#x27;2022-05-27&#x27;, &#x27;2022-06-01&#x27;,
               &#x27;2022-06-04&#x27;, &#x27;2022-06-06&#x27;, &#x27;2022-06-11&#x27;, &#x27;2022-06-14&#x27;,
               &#x27;2022-06-19&#x27;, &#x27;2022-06-21&#x27;, &#x27;2022-06-26&#x27;, &#x27;2022-06-29&#x27;,
               &#x27;2022-07-01&#x27;, &#x27;2022-07-04&#x27;, &#x27;2022-07-06&#x27;, &#x27;2022-07-09&#x27;,
               &#x27;2022-07-11&#x27;, &#x27;2022-07-14&#x27;, &#x27;2022-07-16&#x27;, &#x27;2022-07-19&#x27;,
               &#x27;2022-07-21&#x27;, &#x27;2022-07-24&#x27;, &#x27;2022-07-29&#x27;, &#x27;2022-07-31&#x27;,
               &#x27;2022-08-03&#x27;, &#x27;2022-08-05&#x27;, &#x27;2022-08-10&#x27;, &#x27;2022-08-30&#x27;,
               &#x27;2022-09-02&#x27;, &#x27;2022-09-07&#x27;, &#x27;2022-09-12&#x27;, &#x27;2022-09-19&#x27;,
               &#x27;2022-09-22&#x27;, &#x27;2022-10-04&#x27;, &#x27;2022-10-17&#x27;, &#x27;2022-10-29&#x27;,
               &#x27;2022-11-01&#x27;, &#x27;2022-11-08&#x27;, &#x27;2022-12-23&#x27;, &#x27;2022-12-28&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;t&#x27;, freq=None))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>x</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-8065dcd4-3bb0-4dd8-81dd-0a4b58e13b5d' class='xr-index-data-in' type='checkbox'/><label for='index-8065dcd4-3bb0-4dd8-81dd-0a4b58e13b5d' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([513935.0, 513945.0, 513955.0, 513965.0, 513975.0, 513985.0,
              513995.0, 514005.0, 514015.0, 514025.0, 514035.0, 514045.0,
              514055.0, 514065.0, 514075.0, 514085.0, 514095.0, 514105.0,
              514115.0, 514125.0, 514135.0, 514145.0, 514155.0, 514165.0,
              514175.0, 514185.0, 514195.0, 514205.0, 514215.0, 514225.0,
              514235.0, 514245.0, 514255.0, 514265.0, 514275.0, 514285.0,
              514295.0, 514305.0, 514315.0, 514325.0, 514335.0, 514345.0,
              514355.0, 514365.0, 514375.0, 514385.0, 514395.0, 514405.0],
             dtype=&#x27;float64&#x27;, name=&#x27;x&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>y</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-fad9d528-a5c6-4f89-8f66-f15d1c116dc2' class='xr-index-data-in' type='checkbox'/><label for='index-fad9d528-a5c6-4f89-8f66-f15d1c116dc2' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Float64Index([5073295.0, 5073285.0, 5073275.0, 5073265.0, 5073255.0, 5073245.0,
              5073235.0, 5073225.0, 5073215.0, 5073205.0, 5073195.0, 5073185.0,
              5073175.0, 5073165.0, 5073155.0, 5073145.0, 5073135.0, 5073125.0,
              5073115.0, 5073105.0, 5073095.0, 5073085.0, 5073075.0, 5073065.0,
              5073055.0, 5073045.0, 5073035.0, 5073025.0, 5073015.0, 5073005.0,
              5072995.0, 5072985.0, 5072975.0, 5072965.0, 5072955.0, 5072945.0,
              5072935.0, 5072925.0, 5072915.0, 5072905.0, 5072895.0, 5072885.0,
              5072875.0, 5072865.0],
             dtype=&#x27;float64&#x27;, name=&#x27;y&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e13a1a14-c159-402f-b3de-09e7368134a9' class='xr-section-summary-in' type='checkbox'  checked><label for='section-e13a1a14-c159-402f-b3de-09e7368134a9' class='xr-section-summary' >Attributes: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>Conventions :</span></dt><dd>CF-1.9</dd><dt><span>institution :</span></dt><dd>openEO platform</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ndvi</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;var&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#download if you already have a job result</span>
<span class="c1">#connection.job(&quot;vito-j-2311057a8fdb4d7d89d944c693fb2d40&quot;).download_result(&quot;peakvalley.nc&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PosixPath(&#39;peakvalley.nc&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#or create and run a new job</span>
<span class="n">peakvalley</span><span class="o">.</span><span class="n">peakvalley</span><span class="p">(</span><span class="n">ndvi_cube</span><span class="p">,</span> <span class="n">drop_thr</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">rec_r</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">slope_thr</span><span class="o">=-</span><span class="mf">0.007</span><span class="p">)</span><span class="o">.</span><span class="n">execute_batch</span><span class="p">(</span><span class="s2">&quot;peakvalley.nc&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0:00:00 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: send &#39;start&#39;
0:00:18 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
0:00:23 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
0:00:30 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
0:00:38 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
0:00:49 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
0:01:01 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
0:01:18 Job &#39;vito-j-2311057a8fdb4d7d89d944c693fb2d40&#39;: queued (progress N/A)
</pre></div>
</div>
</div>
</div>
<p>Now that we have calculated the NDVI time series, we can utilize it to execute the peak valley algorithm that is part of the FuseTS algorithm. The peak valley algorithm is a powerful tool that allows us to detect significant changes in the vegetation patterns over time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># run peak-valley detection</span>
<span class="n">pv_result</span> <span class="o">=</span> <span class="n">peakvalley</span><span class="o">.</span><span class="n">peakvalley</span><span class="p">(</span><span class="n">ndvi</span><span class="p">,</span> <span class="n">drop_thr</span><span class="o">=</span><span class="mf">0.13</span><span class="p">,</span> <span class="n">rec_r</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">slope_thr</span><span class="o">=-</span><span class="mf">0.007</span><span class="p">)</span>
<span class="n">pv_result</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '‚ñ∫';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '‚ñº';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;peak_valley_mask&#x27; (t: 64)&gt;
array([nan, nan, nan, nan, nan, nan, nan, nan, nan,  1.,  0.,  0.,  0.,
       -1., nan, nan, nan, nan, nan,  1.,  0.,  0., -1., nan, nan,  1.,
       -1., nan, nan, nan, nan,  1.,  0., -1., nan, nan, nan, nan, nan,
       nan,  1.,  0., -1., nan, nan, nan, nan, nan, nan, nan, nan,  1.,
        0., -1., nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],
      dtype=float32)
Coordinates:
  * t        (t) datetime64[ns] 2022-01-02 2022-01-25 ... 2022-12-23 2022-12-28
    x        float64 5.141e+05
    y        float64 5.073e+06</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'peak_valley_mask'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>t</span>: 64</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-d41c52ac-7aab-4008-b1e6-31cfc189aad5' class='xr-array-in' type='checkbox' checked><label for='section-d41c52ac-7aab-4008-b1e6-31cfc189aad5' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([nan, nan, nan, nan, nan, nan, nan, nan, nan,  1.,  0.,  0.,  0.,
       -1., nan, nan, nan, nan, nan,  1.,  0.,  0., -1., nan, nan,  1.,
       -1., nan, nan, nan, nan,  1.,  0., -1., nan, nan, nan, nan, nan,
       nan,  1.,  0., -1., nan, nan, nan, nan, nan, nan, nan, nan,  1.,
        0., -1., nan, nan, nan, nan, nan, nan, nan, nan, nan, nan],
      dtype=float32)</pre></div></div></li><li class='xr-section-item'><input id='section-0e8319ff-4a67-49ad-9250-1abd1ecef497' class='xr-section-summary-in' type='checkbox'  checked><label for='section-0e8319ff-4a67-49ad-9250-1abd1ecef497' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>t</span></div><div class='xr-var-dims'>(t)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-01-02 ... 2022-12-28</div><input id='attrs-53f1a8a4-a9a1-4f1b-a8b8-a029d9a82828' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-53f1a8a4-a9a1-4f1b-a8b8-a029d9a82828' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-052b987d-249d-4256-a1f7-0ea3b37fcd87' class='xr-var-data-in' type='checkbox'><label for='data-052b987d-249d-4256-a1f7-0ea3b37fcd87' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>t</dd><dt><span>long_name :</span></dt><dd>t</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-01-02T00:00:00.000000000&#x27;, &#x27;2022-01-25T00:00:00.000000000&#x27;,
       &#x27;2022-01-30T00:00:00.000000000&#x27;, &#x27;2022-02-04T00:00:00.000000000&#x27;,
       &#x27;2022-02-09T00:00:00.000000000&#x27;, &#x27;2022-02-24T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-03-03T00:00:00.000000000&#x27;,
       &#x27;2022-03-11T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-03-21T00:00:00.000000000&#x27;, &#x27;2022-03-23T00:00:00.000000000&#x27;,
       &#x27;2022-03-26T00:00:00.000000000&#x27;, &#x27;2022-03-28T00:00:00.000000000&#x27;,
       &#x27;2022-04-05T00:00:00.000000000&#x27;, &#x27;2022-04-07T00:00:00.000000000&#x27;,
       &#x27;2022-04-10T00:00:00.000000000&#x27;, &#x27;2022-04-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-25T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2022-05-10T00:00:00.000000000&#x27;, &#x27;2022-05-12T00:00:00.000000000&#x27;,
       &#x27;2022-05-15T00:00:00.000000000&#x27;, &#x27;2022-05-20T00:00:00.000000000&#x27;,
       &#x27;2022-05-22T00:00:00.000000000&#x27;, &#x27;2022-05-25T00:00:00.000000000&#x27;,
       &#x27;2022-05-27T00:00:00.000000000&#x27;, &#x27;2022-06-01T00:00:00.000000000&#x27;,
       &#x27;2022-06-04T00:00:00.000000000&#x27;, &#x27;2022-06-06T00:00:00.000000000&#x27;,
       &#x27;2022-06-11T00:00:00.000000000&#x27;, &#x27;2022-06-14T00:00:00.000000000&#x27;,
       &#x27;2022-06-19T00:00:00.000000000&#x27;, &#x27;2022-06-21T00:00:00.000000000&#x27;,
       &#x27;2022-06-26T00:00:00.000000000&#x27;, &#x27;2022-06-29T00:00:00.000000000&#x27;,
       &#x27;2022-07-01T00:00:00.000000000&#x27;, &#x27;2022-07-04T00:00:00.000000000&#x27;,
       &#x27;2022-07-06T00:00:00.000000000&#x27;, &#x27;2022-07-09T00:00:00.000000000&#x27;,
       &#x27;2022-07-11T00:00:00.000000000&#x27;, &#x27;2022-07-14T00:00:00.000000000&#x27;,
       &#x27;2022-07-16T00:00:00.000000000&#x27;, &#x27;2022-07-19T00:00:00.000000000&#x27;,
       &#x27;2022-07-21T00:00:00.000000000&#x27;, &#x27;2022-07-24T00:00:00.000000000&#x27;,
       &#x27;2022-07-29T00:00:00.000000000&#x27;, &#x27;2022-07-31T00:00:00.000000000&#x27;,
       &#x27;2022-08-03T00:00:00.000000000&#x27;, &#x27;2022-08-05T00:00:00.000000000&#x27;,
       &#x27;2022-08-10T00:00:00.000000000&#x27;, &#x27;2022-08-30T00:00:00.000000000&#x27;,
       &#x27;2022-09-02T00:00:00.000000000&#x27;, &#x27;2022-09-07T00:00:00.000000000&#x27;,
       &#x27;2022-09-12T00:00:00.000000000&#x27;, &#x27;2022-09-19T00:00:00.000000000&#x27;,
       &#x27;2022-09-22T00:00:00.000000000&#x27;, &#x27;2022-10-04T00:00:00.000000000&#x27;,
       &#x27;2022-10-17T00:00:00.000000000&#x27;, &#x27;2022-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-11-01T00:00:00.000000000&#x27;, &#x27;2022-11-08T00:00:00.000000000&#x27;,
       &#x27;2022-12-23T00:00:00.000000000&#x27;, &#x27;2022-12-28T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>x</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.141e+05</div><input id='attrs-e7db61cc-ff92-4b99-be3b-a9ba53ec89af' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-e7db61cc-ff92-4b99-be3b-a9ba53ec89af' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1524a1db-e971-4f38-bd27-d6ad4386d949' class='xr-var-data-in' type='checkbox'><label for='data-1524a1db-e971-4f38-bd27-d6ad4386d949' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array(514135.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>y</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.073e+06</div><input id='attrs-55a6f42e-27e1-4987-a35e-bf121317d2a5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-55a6f42e-27e1-4987-a35e-bf121317d2a5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2c9255d8-71c3-45ff-b555-91938fe09ac8' class='xr-var-data-in' type='checkbox'><label for='data-2c9255d8-71c3-45ff-b555-91938fe09ac8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array(5073095.)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-a6d13142-5a58-4c75-ab13-cb3abaf58f7b' class='xr-section-summary-in' type='checkbox'  ><label for='section-a6d13142-5a58-4c75-ab13-cb3abaf58f7b' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>t</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-0e7b309d-b459-4154-a4f0-ab6367aa0050' class='xr-index-data-in' type='checkbox'/><label for='index-0e7b309d-b459-4154-a4f0-ab6367aa0050' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-01-02&#x27;, &#x27;2022-01-25&#x27;, &#x27;2022-01-30&#x27;, &#x27;2022-02-04&#x27;,
               &#x27;2022-02-09&#x27;, &#x27;2022-02-24&#x27;, &#x27;2022-03-01&#x27;, &#x27;2022-03-03&#x27;,
               &#x27;2022-03-11&#x27;, &#x27;2022-03-13&#x27;, &#x27;2022-03-21&#x27;, &#x27;2022-03-23&#x27;,
               &#x27;2022-03-26&#x27;, &#x27;2022-03-28&#x27;, &#x27;2022-04-05&#x27;, &#x27;2022-04-07&#x27;,
               &#x27;2022-04-10&#x27;, &#x27;2022-04-12&#x27;, &#x27;2022-04-25&#x27;, &#x27;2022-04-30&#x27;,
               &#x27;2022-05-10&#x27;, &#x27;2022-05-12&#x27;, &#x27;2022-05-15&#x27;, &#x27;2022-05-20&#x27;,
               &#x27;2022-05-22&#x27;, &#x27;2022-05-25&#x27;, &#x27;2022-05-27&#x27;, &#x27;2022-06-01&#x27;,
               &#x27;2022-06-04&#x27;, &#x27;2022-06-06&#x27;, &#x27;2022-06-11&#x27;, &#x27;2022-06-14&#x27;,
               &#x27;2022-06-19&#x27;, &#x27;2022-06-21&#x27;, &#x27;2022-06-26&#x27;, &#x27;2022-06-29&#x27;,
               &#x27;2022-07-01&#x27;, &#x27;2022-07-04&#x27;, &#x27;2022-07-06&#x27;, &#x27;2022-07-09&#x27;,
               &#x27;2022-07-11&#x27;, &#x27;2022-07-14&#x27;, &#x27;2022-07-16&#x27;, &#x27;2022-07-19&#x27;,
               &#x27;2022-07-21&#x27;, &#x27;2022-07-24&#x27;, &#x27;2022-07-29&#x27;, &#x27;2022-07-31&#x27;,
               &#x27;2022-08-03&#x27;, &#x27;2022-08-05&#x27;, &#x27;2022-08-10&#x27;, &#x27;2022-08-30&#x27;,
               &#x27;2022-09-02&#x27;, &#x27;2022-09-07&#x27;, &#x27;2022-09-12&#x27;, &#x27;2022-09-19&#x27;,
               &#x27;2022-09-22&#x27;, &#x27;2022-10-04&#x27;, &#x27;2022-10-17&#x27;, &#x27;2022-10-29&#x27;,
               &#x27;2022-11-01&#x27;, &#x27;2022-11-08&#x27;, &#x27;2022-12-23&#x27;, &#x27;2022-12-28&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;t&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-50236d70-6204-4d1c-9579-48e4ed8a4cc3' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-50236d70-6204-4d1c-9579-48e4ed8a4cc3' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pv_result_openeo</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;./peakvalley.nc&quot;</span><span class="p">)</span>
<span class="n">pv_result_openeo</span><span class="p">[</span><span class="s1">&#39;var&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body[data-theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '‚ñ∫';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '‚ñº';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;var&#x27; (t: 64)&gt;
array([nan, nan, nan, nan, nan, nan, nan, nan, nan,  1.,  0.,  0.,  0.,
       -1., nan, nan, nan, nan, nan,  1.,  0.,  0., -1., nan, nan,  1.,
       -1., nan, nan, nan, nan,  1.,  0., -1., nan, nan, nan, nan, nan,
       nan,  1.,  0., -1., nan, nan, nan, nan, nan, nan, nan, nan,  1.,
        0., -1., nan, nan, nan, nan, nan, nan, nan, nan, nan, nan])
Coordinates:
  * t        (t) datetime64[ns] 2022-01-02 2022-01-25 ... 2022-12-23 2022-12-28
    x        float64 5.141e+05
    y        float64 5.073e+06
Attributes:
    long_name:     var
    units:         
    grid_mapping:  crs</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'var'</div><ul class='xr-dim-list'><li><span class='xr-has-index'>t</span>: 64</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-4f79c32a-474a-4cdc-b203-4395d1bc8616' class='xr-array-in' type='checkbox' checked><label for='section-4f79c32a-474a-4cdc-b203-4395d1bc8616' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>nan nan nan nan nan nan nan nan ... nan nan nan nan nan nan nan nan</span></div><div class='xr-array-data'><pre>array([nan, nan, nan, nan, nan, nan, nan, nan, nan,  1.,  0.,  0.,  0.,
       -1., nan, nan, nan, nan, nan,  1.,  0.,  0., -1., nan, nan,  1.,
       -1., nan, nan, nan, nan,  1.,  0., -1., nan, nan, nan, nan, nan,
       nan,  1.,  0., -1., nan, nan, nan, nan, nan, nan, nan, nan,  1.,
        0., -1., nan, nan, nan, nan, nan, nan, nan, nan, nan, nan])</pre></div></div></li><li class='xr-section-item'><input id='section-d39b9d06-8f4a-47d8-bf52-4f42ab766e4a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d39b9d06-8f4a-47d8-bf52-4f42ab766e4a' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>t</span></div><div class='xr-var-dims'>(t)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>2022-01-02 ... 2022-12-28</div><input id='attrs-6fca8abf-163d-45b2-99cf-7ec8b7677cec' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6fca8abf-163d-45b2-99cf-7ec8b7677cec' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-0abea11f-30ee-4710-9dae-c03771ec99d0' class='xr-var-data-in' type='checkbox'><label for='data-0abea11f-30ee-4710-9dae-c03771ec99d0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>t</dd><dt><span>long_name :</span></dt><dd>t</dd><dt><span>axis :</span></dt><dd>T</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;2022-01-02T00:00:00.000000000&#x27;, &#x27;2022-01-25T00:00:00.000000000&#x27;,
       &#x27;2022-01-30T00:00:00.000000000&#x27;, &#x27;2022-02-04T00:00:00.000000000&#x27;,
       &#x27;2022-02-09T00:00:00.000000000&#x27;, &#x27;2022-02-24T00:00:00.000000000&#x27;,
       &#x27;2022-03-01T00:00:00.000000000&#x27;, &#x27;2022-03-03T00:00:00.000000000&#x27;,
       &#x27;2022-03-11T00:00:00.000000000&#x27;, &#x27;2022-03-13T00:00:00.000000000&#x27;,
       &#x27;2022-03-21T00:00:00.000000000&#x27;, &#x27;2022-03-23T00:00:00.000000000&#x27;,
       &#x27;2022-03-26T00:00:00.000000000&#x27;, &#x27;2022-03-28T00:00:00.000000000&#x27;,
       &#x27;2022-04-05T00:00:00.000000000&#x27;, &#x27;2022-04-07T00:00:00.000000000&#x27;,
       &#x27;2022-04-10T00:00:00.000000000&#x27;, &#x27;2022-04-12T00:00:00.000000000&#x27;,
       &#x27;2022-04-25T00:00:00.000000000&#x27;, &#x27;2022-04-30T00:00:00.000000000&#x27;,
       &#x27;2022-05-10T00:00:00.000000000&#x27;, &#x27;2022-05-12T00:00:00.000000000&#x27;,
       &#x27;2022-05-15T00:00:00.000000000&#x27;, &#x27;2022-05-20T00:00:00.000000000&#x27;,
       &#x27;2022-05-22T00:00:00.000000000&#x27;, &#x27;2022-05-25T00:00:00.000000000&#x27;,
       &#x27;2022-05-27T00:00:00.000000000&#x27;, &#x27;2022-06-01T00:00:00.000000000&#x27;,
       &#x27;2022-06-04T00:00:00.000000000&#x27;, &#x27;2022-06-06T00:00:00.000000000&#x27;,
       &#x27;2022-06-11T00:00:00.000000000&#x27;, &#x27;2022-06-14T00:00:00.000000000&#x27;,
       &#x27;2022-06-19T00:00:00.000000000&#x27;, &#x27;2022-06-21T00:00:00.000000000&#x27;,
       &#x27;2022-06-26T00:00:00.000000000&#x27;, &#x27;2022-06-29T00:00:00.000000000&#x27;,
       &#x27;2022-07-01T00:00:00.000000000&#x27;, &#x27;2022-07-04T00:00:00.000000000&#x27;,
       &#x27;2022-07-06T00:00:00.000000000&#x27;, &#x27;2022-07-09T00:00:00.000000000&#x27;,
       &#x27;2022-07-11T00:00:00.000000000&#x27;, &#x27;2022-07-14T00:00:00.000000000&#x27;,
       &#x27;2022-07-16T00:00:00.000000000&#x27;, &#x27;2022-07-19T00:00:00.000000000&#x27;,
       &#x27;2022-07-21T00:00:00.000000000&#x27;, &#x27;2022-07-24T00:00:00.000000000&#x27;,
       &#x27;2022-07-29T00:00:00.000000000&#x27;, &#x27;2022-07-31T00:00:00.000000000&#x27;,
       &#x27;2022-08-03T00:00:00.000000000&#x27;, &#x27;2022-08-05T00:00:00.000000000&#x27;,
       &#x27;2022-08-10T00:00:00.000000000&#x27;, &#x27;2022-08-30T00:00:00.000000000&#x27;,
       &#x27;2022-09-02T00:00:00.000000000&#x27;, &#x27;2022-09-07T00:00:00.000000000&#x27;,
       &#x27;2022-09-12T00:00:00.000000000&#x27;, &#x27;2022-09-19T00:00:00.000000000&#x27;,
       &#x27;2022-09-22T00:00:00.000000000&#x27;, &#x27;2022-10-04T00:00:00.000000000&#x27;,
       &#x27;2022-10-17T00:00:00.000000000&#x27;, &#x27;2022-10-29T00:00:00.000000000&#x27;,
       &#x27;2022-11-01T00:00:00.000000000&#x27;, &#x27;2022-11-08T00:00:00.000000000&#x27;,
       &#x27;2022-12-23T00:00:00.000000000&#x27;, &#x27;2022-12-28T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>x</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.141e+05</div><input id='attrs-269bfabd-590a-4d0b-a90f-9f27d1772f05' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-269bfabd-590a-4d0b-a90f-9f27d1772f05' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-80df9ee6-432d-432b-a0a3-3c25eaad332b' class='xr-var-data-in' type='checkbox'><label for='data-80df9ee6-432d-432b-a0a3-3c25eaad332b' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_x_coordinate</dd><dt><span>long_name :</span></dt><dd>x coordinate of projection</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array(514135.)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>y</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.073e+06</div><input id='attrs-7d010961-1f16-4f81-9124-14d8db62bfe6' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-7d010961-1f16-4f81-9124-14d8db62bfe6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-2ffa6679-a8fe-4b4d-bf8b-6f34cf6696b2' class='xr-var-data-in' type='checkbox'><label for='data-2ffa6679-a8fe-4b4d-bf8b-6f34cf6696b2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>standard_name :</span></dt><dd>projection_y_coordinate</dd><dt><span>long_name :</span></dt><dd>y coordinate of projection</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array(5073095.)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-7fb42b51-bd06-4473-baa1-cbbbb8af5da4' class='xr-section-summary-in' type='checkbox'  ><label for='section-7fb42b51-bd06-4473-baa1-cbbbb8af5da4' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>t</div></div><div class='xr-index-preview'>PandasIndex</div><div></div><input id='index-d36a405d-3674-4d28-a968-8d21fcec15ff' class='xr-index-data-in' type='checkbox'/><label for='index-d36a405d-3674-4d28-a968-8d21fcec15ff' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;2022-01-02&#x27;, &#x27;2022-01-25&#x27;, &#x27;2022-01-30&#x27;, &#x27;2022-02-04&#x27;,
               &#x27;2022-02-09&#x27;, &#x27;2022-02-24&#x27;, &#x27;2022-03-01&#x27;, &#x27;2022-03-03&#x27;,
               &#x27;2022-03-11&#x27;, &#x27;2022-03-13&#x27;, &#x27;2022-03-21&#x27;, &#x27;2022-03-23&#x27;,
               &#x27;2022-03-26&#x27;, &#x27;2022-03-28&#x27;, &#x27;2022-04-05&#x27;, &#x27;2022-04-07&#x27;,
               &#x27;2022-04-10&#x27;, &#x27;2022-04-12&#x27;, &#x27;2022-04-25&#x27;, &#x27;2022-04-30&#x27;,
               &#x27;2022-05-10&#x27;, &#x27;2022-05-12&#x27;, &#x27;2022-05-15&#x27;, &#x27;2022-05-20&#x27;,
               &#x27;2022-05-22&#x27;, &#x27;2022-05-25&#x27;, &#x27;2022-05-27&#x27;, &#x27;2022-06-01&#x27;,
               &#x27;2022-06-04&#x27;, &#x27;2022-06-06&#x27;, &#x27;2022-06-11&#x27;, &#x27;2022-06-14&#x27;,
               &#x27;2022-06-19&#x27;, &#x27;2022-06-21&#x27;, &#x27;2022-06-26&#x27;, &#x27;2022-06-29&#x27;,
               &#x27;2022-07-01&#x27;, &#x27;2022-07-04&#x27;, &#x27;2022-07-06&#x27;, &#x27;2022-07-09&#x27;,
               &#x27;2022-07-11&#x27;, &#x27;2022-07-14&#x27;, &#x27;2022-07-16&#x27;, &#x27;2022-07-19&#x27;,
               &#x27;2022-07-21&#x27;, &#x27;2022-07-24&#x27;, &#x27;2022-07-29&#x27;, &#x27;2022-07-31&#x27;,
               &#x27;2022-08-03&#x27;, &#x27;2022-08-05&#x27;, &#x27;2022-08-10&#x27;, &#x27;2022-08-30&#x27;,
               &#x27;2022-09-02&#x27;, &#x27;2022-09-07&#x27;, &#x27;2022-09-12&#x27;, &#x27;2022-09-19&#x27;,
               &#x27;2022-09-22&#x27;, &#x27;2022-10-04&#x27;, &#x27;2022-10-17&#x27;, &#x27;2022-10-29&#x27;,
               &#x27;2022-11-01&#x27;, &#x27;2022-11-08&#x27;, &#x27;2022-12-23&#x27;, &#x27;2022-12-28&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;t&#x27;, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-f6055bf9-ce8c-490a-b0bc-80b59dfb9205' class='xr-section-summary-in' type='checkbox'  checked><label for='section-f6055bf9-ce8c-490a-b0bc-80b59dfb9205' class='xr-section-summary' >Attributes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>long_name :</span></dt><dd>var</dd><dt><span>units :</span></dt><dd></dd><dt><span>grid_mapping :</span></dt><dd>crs</dd></dl></div></li></ul></div></div></div></div>
</div>
</section>
<section id="plot-image-chips-across-time">
<h2>Plot Image Chips Across Time<a class="headerlink" href="#plot-image-chips-across-time" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># take observations with more 80% of valid data or more</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">ndvi</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">prod</span><span class="p">(</span><span class="n">ndvi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.8</span>
<span class="n">ndvi_filtered</span> <span class="o">=</span> <span class="n">ndvi</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>

<span class="n">ncols</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">nrows</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">([</span><span class="s2">&quot;default&quot;</span><span class="p">])</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">ncols</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">nrows</span><span class="p">),</span> <span class="n">ncols</span><span class="o">=</span><span class="n">ncols</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="n">nrows</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">patch</span><span class="o">.</span><span class="n">set_alpha</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">img</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axs</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span> <span class="n">ndvi_filtered</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/f6800ecf1e46f6cfc7074d3b2be3befecb790a4937ee6b0d820fe2698c14c952.png" src="../_images/f6800ecf1e46f6cfc7074d3b2be3befecb790a4937ee6b0d820fe2698c14c952.png" />
</div>
</div>
</section>
<section id="plot-time-series-for-specific-polygon-area">
<h2>Plot Time Series for Specific Polygon Area<a class="headerlink" href="#plot-time-series-for-specific-polygon-area" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define geometry of area-of-interest (AOI)</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="p">[</span><span class="mf">15.183519</span><span class="p">,</span> <span class="mf">45.81257</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">15.180305</span><span class="p">,</span> <span class="mf">45.811834</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">15.181013</span><span class="p">,</span> <span class="mf">45.809964</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">15.182022</span><span class="p">,</span> <span class="mf">45.810439</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">15.182172</span><span class="p">,</span> <span class="mf">45.809703</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">15.184608</span><span class="p">,</span> <span class="mf">45.810319</span><span class="p">],</span>
            <span class="p">[</span><span class="mf">15.183519</span><span class="p">,</span> <span class="mf">45.81257</span><span class="p">],</span>
        <span class="p">]</span>
    <span class="p">],</span>
<span class="p">}</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

<span class="c1"># plot AOI</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ndvi_filtered</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">7</span><span class="p">),</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="n">minx</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxy</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">geometry</span><span class="p">[</span><span class="s2">&quot;coordinates&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="s2">&quot;C3&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;dashed&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">ndvi_filtered</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0331d9521da4c521f2b94cc00d2516aefba993395de50a34102e8bafd85755c5.png" src="../_images/0331d9521da4c521f2b94cc00d2516aefba993395de50a34102e8bafd85755c5.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define AOI mask</span>
<span class="n">geom_mask</span> <span class="o">=</span> <span class="n">geometry_mask</span><span class="p">(</span>
    <span class="p">[</span><span class="n">geometry</span><span class="p">],</span>
    <span class="n">out_shape</span><span class="o">=</span><span class="n">ndvi_filtered</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span>
    <span class="n">transform</span><span class="o">=</span><span class="n">rasterio</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">from_bounds</span><span class="p">(</span>
        <span class="o">*</span><span class="p">(</span><span class="n">minx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">maxy</span><span class="p">),</span>
        <span class="n">width</span><span class="o">=</span><span class="n">ndvi_filtered</span><span class="o">.</span><span class="n">sizes</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
        <span class="n">height</span><span class="o">=</span><span class="n">ndvi_filtered</span><span class="o">.</span><span class="n">sizes</span><span class="p">[</span><span class="s2">&quot;y&quot;</span><span class="p">],</span>
    <span class="p">),</span>
    <span class="n">invert</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">geom_mask</span> <span class="o">=</span> <span class="n">xarray</span><span class="o">.</span><span class="n">DataArray</span><span class="p">(</span><span class="n">geom_mask</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">))</span>

<span class="c1"># filter to AOI</span>
<span class="n">ndvi_masked</span> <span class="o">=</span> <span class="n">ndvi_filtered</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">geom_mask</span> <span class="o">==</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>

<span class="c1"># plot result</span>
<span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">ndvi_masked</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">7</span><span class="p">),</span> <span class="n">extent</span><span class="o">=</span><span class="p">[</span><span class="n">minx</span><span class="p">,</span> <span class="n">maxx</span><span class="p">,</span> <span class="n">miny</span><span class="p">,</span> <span class="n">maxy</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">ndvi_masked</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/56e4e632833b39b356a94a60ff340bf55ee30e713e54e05821d6e6ed72576ad1.png" src="../_images/56e4e632833b39b356a94a60ff340bf55ee30e713e54e05821d6e6ed72576ad1.png" />
</div>
</div>
<p>We plot the result two times: once the local computation and then the openEO result.
Plots should be the same!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sample random pixels</span>
<span class="n">valid_x</span><span class="p">,</span> <span class="n">valid_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">geom_mask</span><span class="p">)</span>
<span class="n">rand_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">valid_x</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="n">rand_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">valid_y</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">plot_peak_valley</span><span class="p">(</span><span class="n">pv</span><span class="p">):</span>



    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">idy</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rand_x</span><span class="p">,</span> <span class="n">rand_y</span><span class="p">):</span>
        <span class="c1"># filter potential nan values</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="n">ndvi_masked</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">idy</span><span class="p">)</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="n">ts</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">ts</span><span class="p">)]</span>

        <span class="c1"># extract peak-valley info</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">pv</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">idx</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">idy</span><span class="p">)</span>
        <span class="n">pairs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">data</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]])</span>

        <span class="c1"># plot time series</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ts</span><span class="o">.</span><span class="n">t</span><span class="p">,</span> <span class="n">ts</span><span class="p">,</span> <span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pairs</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
                <span class="c1"># plot peak-valley span</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="o">*</span><span class="n">data</span><span class="p">[</span><span class="n">pair</span><span class="p">]</span><span class="o">.</span><span class="n">t</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(),</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C3&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

    <span class="c1"># add legends</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([],</span> <span class="p">[],</span> <span class="s2">&quot;C0&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;NDVI series of random pixels&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvspan</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;C3&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Detected peak-valley events&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plot_peak_valley</span><span class="p">(</span><span class="n">pv_result</span><span class="p">)</span>
<span class="n">plot_peak_valley</span><span class="p">(</span><span class="n">pv_result_openeo</span><span class="p">[</span><span class="s1">&#39;var&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6f3b1badf2ea1dc20d6d3ae03fbc877ea1f854700a8292bac770292b1835070b.png" src="../_images/6f3b1badf2ea1dc20d6d3ae03fbc877ea1f854700a8292bac770292b1835070b.png" />
<img alt="../_images/404fd55214a41a5f87d63aad2151cf5542fb23ca1c2c8654413d82e9514b2e6e.png" src="../_images/404fd55214a41a5f87d63aad2151cf5542fb23ca1c2c8654413d82e9514b2e6e.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./part3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="udf_intro_openeo.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">OpenEO - User Defined Functions</p>
      </div>
    </a>
    <a class="right-next"
       href="advanced_udf.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">UDF with machine learning</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#downloading-the-s2-time-series">Downloading the S2 time series</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-image-chips-across-time">Plot Image Chips Across Time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-time-series-for-specific-polygon-area">Plot Time Series for Specific Polygon Area</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Pangeo
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=365ca57ee442770a23c6"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=365ca57ee442770a23c6"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>